//
//  ViewControllers.m
//  iPenTest
//
//  Created by Erran Carey on 11/25/12.
//  Copyright (c) 2012 App2O. All rights reserved.
//

#import "ViewControllers.h"

@implementation InitialViewController

- (void)viewDidLoad
{
    [super viewDidLoad];
}

@end

@implementation NewProjectViewController

@synthesize projectNameField;

- (void)viewDidLoad
{
    [super viewDidLoad];
}

- (IBAction)createProject:(id)sender
{
	NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
	[defaults setObject:projectNameField.text forKey:@"currentProject"];
	
	NSArray *array = [defaults objectForKey:@"projects"];
	[array arrayByAddingObject:[defaults objectForKey:@"currentProject"]];
	[defaults setObject:array forKey:@"projects"];
	[defaults synchronize];
}

@end

@implementation ProjectsViewController

@synthesize projects = _projects;

- (void)viewDidLoad
{
    [super viewDidLoad];
	NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
	[defaults setObject:@[ @"project", @"test project", @"proj√©cto" ] forKey:@"projects"];
	[defaults synchronize];
	self.projects = [defaults objectForKey:@"projects"];
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return [_projects count];
}

- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
	UITableViewCell *cell = [self tableView:tableView cellForRowAtIndexPath:indexPath];
	NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
	[defaults setObject:cell.textLabel.text forKey:@"currentProject"];
	[defaults synchronize];
	[self performSegueWithIdentifier:@"savedToWorkspace" sender:cell];
	[tableView deselectRowAtIndexPath:indexPath animated:YES];
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    
    static NSString *identifier = @"cell";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:identifier];
    if(cell==nil){
        cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:identifier]autorelease];
	}
    NSUInteger row = [indexPath row];
    cell.textLabel.text = [_projects objectAtIndex:row];
    return cell;
}

@end

@implementation ProjectWorkspaceViewController

- (void)viewDidLoad
{
    [super viewDidLoad];
	NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
	self.title = [defaults objectForKey:@"currentProject"];
}

@end

@implementation ReconViewController

- (void)viewDidLoad
{
    [super viewDidLoad];
}

@end

@implementation PhishingViewController

- (void)viewDidLoad
{
    [super viewDidLoad];
}

@end

@implementation MetasploitViewController

- (void)viewDidLoad
{
    [super viewDidLoad];
}

@end
